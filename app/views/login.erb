<h2>Login to Finstagram</h2>

<!--
<header>
    <h1>Finstagram Login page</h1>
<div class="login-info">
    <% if current_user %>   
    -->
    <!--since helper method is added in action.rb, We don't need the @ for @current_userwhere we added it in the index.erb header, since we can just call the current_user helper method by it's name and have it return the user object.-->
    <!--  
      <%= current_user.username %>
      <a href="/logout">Logout</a>
    <% else %>
      <a href="/login">Login</a>
      <a href="/signup">Signup</a>
    <% end %>
  </div>


  </header>

  -->

<%= @error_message if @error_message %>

<!--if log out successful-->
<!-- there's no way to check if sesssion is nil once logged out, because you can't tell if the user has jsut logged out or logging back in again after awhile, this
shoud be done in javascript on client side. However, -->
<ul class="logout-successful">
      <% if is_prior_logout  %>
      <li><%= "logout successful!" %></li>
      <li><%= p "you've logged out " %></li>
       <% elsif no_session_logout  %>
      <li><%= "you haven't logged in to begin with" %></li>
      <li><%= p "you haven't logged in to begin with " %></li>

      <% else %>
    <li><%= "is_prior_logout is false" %></li>
    <li><%= p "new user session #{is_prior_logout} " %></li>  <!--is_prior_logout should be blank-->
    <% end %>
  </ul>



  <ul class="sign-in-first">
      <% if !current_user && view_before_signin%>
      <li><%= p "please sign in first " %></li>
      
      <% else %>
        <% end %>
  </ul>

  <form action="/login" method="POST">
  
    <div class="form-group">
      <label for="username">Username</label>
      <input type="text" id="username" name="username">  <!--notice no instance variable for username-->
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" id="password" name="password">
    </div>
    <div class="form-group">
      <button class="button" type="submit">Login</button>
    </div>
  </form>

  <!--if user logins successful, pause for few seconds before going to user page-->